<style>
    .error {
   color: #ff0000;
   font-size: 9px;
   margin-top: 5px;
   margin-bottom: 0;
}
 
.inputTxtError {
   border: 1px solid #ff0000;
   color: #0e0e0e;
}
</style>
<style>
   body {
    margin-top:40px;
}
.stepwizard-step p {
    margin-top: 10px;
}
.stepwizard-row {
    display: table-row;
}
.stepwizard {
    display: table;
    width: 50%;
    position: relative;
}
.stepwizard-step button[disabled] {
    opacity: 1 !important;
    filter: alpha(opacity=100) !important;
}
.stepwizard-row:before {
    top: 14px;
    bottom: 0;
    position: absolute;
    content: " ";
    width: 100%;
    height: 1px;
    background-color: #ccc;
    z-order: 0;
}
.stepwizard-step {
    display: table-cell;
    text-align: center;
    position: relative;
}
.btn-circle {
    width: 30px;
    height: 30px;
    text-align: center;
    padding: 6px 0;
    font-size: 12px;
    line-height: 1.428571429;
    border-radius: 15px;
}
</style>

<div id="content">
    <div class="container"></div>,<div class="container">
    <div id="directstepwizard">
        <div class="stepwizard col-md-offset-3">
            <div class="stepwizard-row setup-panel">
                <div class="stepwizard-step">
                    <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
                    <p>Step 1</p>
                </div>
                <div class="stepwizard-step">
                    <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                    <p>Step 2</p>
                </div>
                <div class="stepwizard-step">
                    <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                    <p>Step 3</p>
                </div>
                
            </div>
        </div>

        <form role="form" action="" method="post">
            <div class="row setup-content" id="step-1">
                <div class="col-xs-6 col-md-offset-3">
                    <div class="col-md-12">
                        <h3> Step 1 - Personal Information</h3>
                        <div class="form-group">
                            <label class="control-label">First Name</label>
                            <input maxlength="100" type="text" name="FirstName" id="FirstName" required="required" class="form-control" placeholder="Enter First Name">
                        </div>
                        <div class="form-group">
                            <label class="control-label">Last Name</label>
                            <input maxlength="100" type="text" required="required" class="form-control" name="LastName" id="LastName"  placeholder="Enter Last Name">
                        </div>
                        <div class="form-group">
                            <label class="control-label">Phone Number</label>
                            <input maxlength="100" type="number" required="required" class="form-control" name="Phonenumber" id="Phonenumber" placeholder="Enter Phone number">
                        </div>
                        <div class="form-group">
                            <strong class="label label-primary">Email</strong>
                            <input type="text" name="Email" id="Email" class="form-control input-lg" placeholder="Email Address" tabindex="4" onchange="EmailCheck()">
                            <span id="statuss"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Gender</label>
                            <select class="form-control" name="Gender" id="Gender">
                                <option value="M">Male</option>
                                <option value="F">Female</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="control-label">Address</label>
                            <textarea required="required" class="form-control" name="Address" id="Address" placeholder="Enter your address"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Address Type</label>
                            <select class="form-control" name="AddressOwnerType" id="AddressOwnerType">
                                <option value="1" selected>LandLord</option>
                                <option value="2">Tenant</option>
                            </select>
                        </div>
                        <div class="form-group" id="drpRentRange">
                            <label class="control-label">Rent Price</label>
                            <select class="form-control" name="RentRangeId" id="RentRangeId">
                                
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="hidden" id="TaxtypeID" name="TaxtypeID" value="1" />
                            <label class="control-label">Marital Status</label>
                            <select class="form-control" name="MaritalStatus" id="MaritalStatus"></select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Number of Children</label>
                            <select class="form-control" name="Numberofchildren" id="Numberofchildren">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">Above</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">State</label>
                            <select class="form-control" name="StateCode" id="StateCode"></select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">LGA</label>
                            <select class="form-control" name="LGACode" id="LGACode"></select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">City</label>
                            <input maxlength="100" type="text" required="required" class="form-control" name="CityCode" id="CityCode" placeholder="Enter City Name">
                        </div>
                        <button id="Nexty" class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                    </div>

                </div>
            </div>
            <div class="row setup-content" id="step-2">
                <div class="col-xs-6 col-md-offset-3">
                    <div class="col-md-12">
                        <h3>Step 2 - Family Information</h3>

                        
                        <div class="form-group">
                            <label class="control-label">FullName</label>
                            <input type="text" id="FullName" name="FullName" placeholder="" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label class="control-label">RelationShip</label>
                            <select class="form-control"  name="RelationshipType" id="RelationshipType"></select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Age</label>
                            <input type="text" id="Age" name="Age"  placeholder="" class="form-control" />
                            
                        </div>
                        <input type="button" class="add-family-row btn btn-primary" value="Add Family">

                        <div class="table-responsive">
                            <table id="example1_family_enroll" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>FullName</th>
                                        <th>RelationshipType</th>
                                        <th>Age</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    </tbody>
</table>
                            <table id="example1_family_enroll2" style="visibility:collapse;" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>FullName</th>
                                        <th>RelationshipType</th>
                                        <th>Age</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>



                        <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                    </div>
                </div>
            </div>
            <div class="row setup-content" id="step-3">
                <div class="col-xs-6 col-md-offset-3">
                    <div class="col-md-12">
                        <h3> Step 3 - Income</h3>
                        <div class="form-group">
                            <label class="control-label">Income Source</label>
                            <select class="form-control" name="SourceOfIncomeID" id="SourceOfIncomeID"></select>
                        </div>
                        <div class="form-group">
                            <label class="control-label">Amount</label>
                            <input type="number"  id="Amount" name="Amount" placeholder="" class="form-control" />
                         
                        </div>
                        <div class="form-group">
                            <label class="control-label">Year</label>
                            <input type="number" id="IncomeYear" name="IncomeYear" placeholder="" class="form-control" />

                        </div>
                        <input type="button" class="add-incomesource-row btn btn-primary" value="Add Income Source">
<br/>
                        <div class="table-responsive">
                            <table id="example1_incomesource" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>SourceOfIncomeID</th>
                                        <th>Amount</th>
                                        <th>IncomeYear</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                            <table id="example1_incomesourcehide" style="visibility:collapse" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>SourceOfIncomeID</th>
                                        <th>Amount</th>
                                        <th>IncomeYear</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                          <button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>
                        <button class="btn btn-primary nextBtn btn-lg pull-right" id="btnSaveDirectAccessment" type="button">Submit</button>
                    </div>
                </div>
            </div>
            

        </form>

    </div>

    <div class="panel panel-default" id="listAssessment_table" style="display:none">
        @*<button class="btn btn-primary prevBtn btn-lg pull-left" type="button">Previous</button>*@
                <div class="panel-heading">
                   Income Assessment
                </div>
        <div class="panel-body">
            <div class="col-lg-6">
                <div role="form">
                    <div class="form-group">
                        <label>Enrollment ID</label>
                        <input class="form-control" id="txtEnrollId" readonly />

                    </div>
                    <div class="form-group">
                        <label>Gross Income</label>
                        <input class="form-control" id="txtincome" readonly />

                    </div>
                    <div class="form-group">
                        <label>20% Of Gross Income</label>
                        <input class="form-control" id="txtgrossincome" readonly />

                    </div>
                    <div class="form-group">
                        <label>Consolidated Allowance</label>
                        <input class="form-control" id="txtconsolidateallowance" readonly />

                    </div>
                </div>
            </div>
            <!-- /.col-lg-6 (nested) -->
            <div class="col-lg-6">
                <div role="form">
                    <div class="form-group">
                        <label>Total FPA</label>
                        <input class="form-control" id="txttotalpfa" readonly />

                    </div>
                    <div class="form-group">
                        <label>Taxable Income</label>
                        <input class="form-control" id="txttaxableincome" readonly/>

                    </div>
                     <div class="form-group">
                        <label>Net Tax</label>
                        <input class="form-control" id="txtnettax" readonly />

                    </div>
                </div>
            </div>
            <div class="text-center">
                <button class="btn btn-primary btn-lg" id="verifyy" onclick="verify()" type="button">Verify Payment</button>

            </div>
        </div>
        </div>
    </div>
 
    </div>
<div id="paymenturl" style="display:none" data-request-url="@Url.Action("Makepayment", "EnrollmentType")"></div>
<div id="stateloader" style="display:none" data-request-url="@Url.Action("StateList", "EnrollmentType")"></div>
<div id="Cityloader" style="display:none" data-request-url="@Url.Action("CityList", "EnrollmentType")"></div>
<div id="maritalloader" style="display:none" data-request-url="@Url.Action("MaritalList", "EnrollmentType")"></div>
<div id="postdirectAssessment" style="display:none" data-request-url="@Url.Action("CreateDirectAssessment", "EnrollmentType")"></div>
<div id="incomeviewlist" style="display:none" data-request-url="@Url.Action("IncomeTypeList", "EnrollmentType")"></div>
<div id="relationshipurl" style="display:none" data-request-url="@Url.Action("RelationShipList", "EnrollmentType")"></div>
<div id="loader_incomeassessment" style="display:none" data-request-url="@Url.Action("AssessmentList", "EnrollmentType")"></div>
<div id="assessmentload" style="display:none" data-request-url="@Url.Action("AssessmentDetails", "EnrollmentType")"></div>
<div id="rentPriceurl" style="display:none" data-request-url="@Url.Action("RentRangeList", "EnrollmentType")"></div>

<script src="~/resources_home/js/jquery.min.js"></script>
<script src="~/resources_home/js/modernizr.custom.js"></script>
<script src="~/resources_home/js/jquery.easing.1.3.js"></script>

<script>
    function EmailCheck() {
        console.log("in here emailcheck")
        $("#statuss").html("checking....")
        $.post("@Url.Action("checkEmailAvailability", "EnrollmentType")",
            {
                AspNetUsers: $("#Email").val()
            },
        function (data) {
            if (data == 0) {
                $("#statuss").html('<font color="Green">Email Available</font>');
                $("#Email").css("border-corlor", "green");
            }
            else {
                $("#statuss").html('<font color="Red">Email Already used </font>');
                $("#Email").css("border-corlor", "Red");
                $("#Nexty").prop("disabled", "true");
            }
        });
    }
</script>

<script type="text/javascript">
    var QTCheckout = QTCheckout || {};
    var testMode = true;
    var baseUrl = "";
    console.log($('#txtnettax').val());
    var amt = document.getElementById('txtnettax').value * 100;
    console.log(amt);
    //document.getElementById('EnteredAmount').value = amt;
    //var today = new Date();
    //var dd = today.getDate();
    //var d = Date.parse(dd);
    var time = new Date();
    var time = time.getTime();
    var custid = document.getElementById('txtEnrollId').value;
    console.log(custid);
    var phoneno = document.getElementById('Phonenumber').value;
    var email = document.getElementById('Email').value;
    console.log('get phone');
    console.log(phoneno);
    var rand = "9999" + Math.floor((Math.random() * 100000000) + 1);
    QTCheckout.paymentItems = QTCheckout.paymentItems || [];
    QTCheckout.paymentItems.push({
        paymentCode: "95101",
        extraData: {
            amount: amt,
            buttonSize: 'medium',
            customerId: custid,
            mobileNumber: phoneno,
            emailAddress: email,
            redirectUrl: 'http://62.173.32.98/revenuepoint',
            requestReference: rand
        }
    });
    if (testMode == true) baseUrl = "https://pwq.sandbox.interswitchng.com/scripts/quickteller-checkout-min.js?v=";
    else baseUrl = "https://paywith.quickteller.com/scripts/quickteller-checkout-min.js?v=";
    if (!QTCheckout.qtScript) {
        var qtScript = document.createElement('script');
        qtScript.type = 'text/javascript';
        qtScript.async = true;
        qtScript.src = baseUrl + new Date().getDay();
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(qtScript, s);
        QTCheckout.qtScript = qtScript;
    }
    else if (QTCheckout.buildPaymentItemsUI) {
        QTCheckout.buildPaymentItemsUI();
    }

    const verify = () => {
        var details =
            {
                amount: document.getElementById("txtnettax").value,
                firstName: document.getElementById("FirstName").value,
                customerid: document.getElementById('txtEnrollId').value,
                phone: document.getElementById("Phonenumber").value,
                emailno: document.getElementById("Email").value,
                lastname: document.getElementById("LastName").value
            }
        //console.log(details);
        localStorage.setItem('details', JSON.stringify(details));
        window.location = 'VerifyPay';

    }

</script>
<script src="~/resources_home/js/bootstrap.min.js"></script>

<script src="~/resources/js/dataTables/jquery.dataTables.min.js"></script>
<script src="~/resources/js/dataTables/dataTables.bootstrap.min.js"></script>
<script src="~/resources_home/plugins/flexslider/jquery.flexslider-min.js"></script>
<script src="~/resources_home/plugins/flexslider/flexslider.config.js"></script>
<script src="~/resources_home/js/jquery.appear.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/resources_home/js/stellar.js"></script>
<script src="~/resources_home/js/classie.js"></script>
<script src="~/resources_home/js/uisearch.js"></script>
<script src="~/resources_home/js/jquery.cubeportfolio.min.js"></script>
<script src="~/resources_home/js/google-code-prettify/prettify.js"></script>
<script src="~/resources_home/js/animate.js"></script>
<script src="~/resources_home/js/custom.js"></script>
<script src="~/Scripts/sweetalert.js"></script>
<script src="~/resources/js/jquery.tabletojson.min.js"></script>
<script src="~/resources/js/directstepform.js"></script>

